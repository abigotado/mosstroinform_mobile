# МосСтройИнформ Мобайл

Мобильное приложение для управления строительством объектов ИЖС (Индивидуальное Жилищное Строительство).

## Технологический стек

- **Flutter** - кроссплатформенный фреймворк
- **Riverpod** (с code generation) - управление состоянием
- **Dio + Retrofit** - сетевые запросы
- **Freezed** - генерация кода для моделей данных
- **flutter_gen** - генерация кода для ассетов
- **flutter_localization** - локализация
- **ThemeData** - темизация (подготовлено для мультитематизации)

## Архитектура

Проект использует **Domain-Driven Design (DDD)** с feature-first структурой.

### Структура проекта

```
lib/
├── core/                    # Общие компоненты
│   ├── theme/              # Темизация
│   ├── constants/          # Константы
│   ├── utils/              # Утилиты
│   └── errors/             # Обработка ошибок
├── features/               # Фичи (feature-first)
│   ├── project_selection/  # Выбор проекта
│   ├── document_approval/  # Согласование документации
│   ├── construction_stage/ # Этап строительства
│   ├── chat/               # Чат со специалистом
│   └── completion/         # Завершение строительства
│       ├── data/           # Слой данных
│       │   ├── models/     # Модели данных
│       │   ├── repositories/ # Реализация репозиториев
│       │   └── datasources/ # Источники данных
│       ├── domain/         # Слой домена
│       │   ├── entities/   # Сущности
│       │   ├── repositories/ # Интерфейсы репозиториев
│       │   └── usecases/   # Use cases
│       ├── notifier/       # State management (Riverpod)
│       └── ui/             # UI слой
│           ├── screens/    # Экраны
│           └── widgets/    # Виджеты
└── shared/                 # Общие компоненты
    ├── widgets/            # Переиспользуемые виджеты
    └── utils/              # Общие утилиты
```

### Слои архитектуры

Каждая фича содержит следующие слои:

1. **Domain** - бизнес-логика, сущности, интерфейсы репозиториев, use cases
2. **Data** - реализация репозиториев, модели данных, источники данных (API, локальное хранилище)
3. **Notifier** - управление состоянием через Riverpod
4. **UI** - экраны и виджеты

## Основные функции

1. **Выбор проекта** - просмотр доступных проектов, детальная информация, отправка запроса на строительство
2. **Согласование документации** - просмотр документов, процесс согласования, отслеживание статусов
3. **Этап строительства** - видеопоток со стройки, просмотр камер, управление видео
4. **Чат со специалистом** - общение с экспертами, отправка сообщений, история переписки
5. **Завершение строительства** - подписание документов, финальные документы, статус завершения

## Работа с Git

- **main** - только для начального коммита
- **stage** - рабочая ветка для разработки
- Для каждого шага создается ветка от main, после завершения - squash merge в stage

## Локализация

Все тексты приложения на русском языке. Файлы локализации находятся в `lib/l10n/`.

## Запуск проекта

```bash
# Установка зависимостей
flutter pub get

# Генерация кода
flutter pub run build_runner build --delete-conflicting-outputs

# Запуск приложения
flutter run
```

## Разработка

Проект следует принципам чистого кода:
- Не используются widget функции (только классы)
- Четкое разделение ответственности
- Использование интерфейсов для репозиториев
- Типобезопасность через Freezed
